<!DOCTYPE html>

<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js%22%3E"></script>
        <title>To Do List</title>
    </head>
    

    <body>
        <div class = "login">
            <h1>Todolist</h1>
            <h3>Username: {{user.username}}</h3>

            <button><a type="submit" href="{% url 'todolist:create-task' %}">Tambah Task Baru</a></button>
            <button><a type="submit" href="{% url 'todolist:logout' %}">Logout</a></button>

            <div class="row">

            <table class="content-table">
                <thead>
                    <tr>
                        <th>Tanggal Pembuatan</th>
                        <th>Judul</th>
                        <th>Deskripsi</th>
                        <th>Status</th>
                        <th>Ubah</th>
                    </tr>
                </thead>
                {% comment %} Tambahkan data di bawah baris ini {% endcomment %}
                {% for element in list_task %}
                <tbody>
                    <tr>
                        <th>{{element.date}}</th>
                        <th>{{element.title}}</th>
                        <th>{{element.description}}</th>
                            {% if element.is_finished %}
                                <th>Selesai</th>
                                {% else %}
                                <th>Belum Selesai</th>
                                {% endif %}
                        <th><button><a href="{% url 'todolist:ubah_status' element.id %}">Ubah Status</a></button>
                            <button><a href="{% url 'todolist:hapus_task' element.id %}">Hapus Task</a></button>
                        </th>
                    </tr>
                </tbody>
                {% endfor %}
            </table>

            {% comment %} Tambahkan data di bawah baris ini {% endcomment %}
            {% for element in list_task %}
            <div class="card" style="width: 350px;">
                <div class="card=body">
                    <h6>{{element.date}}</h6>
                    <h4>{{element.title}}</h4>
                    <p>{{element.description}}</p>
                        {% if element.is_finished %}
                            <h6>Selesai</h6>
                            {% else %}
                            <h6>Belum Selesai</h6>
                            {% endif %}

                            <button><a href="{% url 'todolist:ubah_status' element.id %}">Ubah Status</a></button>
                            <button><a href="{% url 'todolist:hapus_task' element.id %}">Hapus Task</a></button>
                </div>
            </div>            
            {% endfor %}
        </div>
      </div>
    </body>
</html>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@700&family=Poppins:wght@400;500;600&display=swap');
    *{
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Poppins", sans-serif;
    }
    body{
        margin: 0;
        padding: 0;
        font-family: montserrat;
        min-height: 100vh;
        overflow: hidden;
        text-align: center;
        vertical-align: middle; 
    }
    .login{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        height: 80%;
        width: 90%;
        background: white;
        border-radius: 10px;
    }
    .login h1, h3{
        text-align: center;
        padding: 0 0 10px 0;
        border-bottom: 1px solid silver;
    }
    .card {
    margin-top: 10px;
    margin-bottom: auto;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid rgb(179, 182, 230);
    border-radius: 10px;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    background-color:rgba(45, 54, 183, 0.2);
    }
    .card:hover {
        box-shadow: 0 8px 16px 0 rgba(0,0,0,0.75);
    }
    .content-table{
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.9em;
        border-radius: 5px 5px 0 0;
        overflow: hidden;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
        margin-left:auto;
        margin-right:auto;
    }
    .content-table thead tr{
        background-color: #2691d9;
        color: white;
        font-weight: bold;
    }
    .content-table th,
    .content-table td {
        padding: 12px 15px;
    }

    .content-table tbody tr{
        border-bottom: 1px solid #dddddd;
    }
</style>